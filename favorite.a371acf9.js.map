{"mappings":"gfAAAA,EAAA,S,iGAIMC,EAAmBC,SAASC,cAAc,mBAC1CC,EAAuBF,SAASC,cAAc,2BAIhDE,GAFgBH,SAASC,cAAc,gBAE3B,IAIED,SAASC,cAAc,mBAE/BG,iBAAiB,QAASC,EAAAC,eAGpC,IAKMC,EAAkBP,SAASC,cAAc,iBACzCO,EAAmBR,SAASC,cAAc,yBAE1CQ,EAAgB,IAAI,EAAAC,EAAAC,eAAcJ,EAAiBC,GAEzDA,EAAiBJ,iBAAiB,SAAUK,EAAcG,eAC1DL,EAAgBH,iBAAiB,SAAUK,EAAcG,eAEzDH,EAAcI,cAUDb,SAASC,cAAc,QAC/BG,iBAAiB,QAASU,EAAAC,uBAE/B,WACE,IAAMC,EAAYC,aAAaC,QA3BH,aA6B5B,GAAKF,EAEE,CACL,IAAMG,EAAkBC,KAAKC,MAAML,GAC7BM,EAAgBC,OAAOC,KAAKL,GAE7BM,GAAiB,EAAjBC,GAAiB,EAAjBC,OAAiBC,E,IAAtB,QAAKC,EAAAC,EAAqBR,EAAaS,OAAAC,cAAlCP,GAAAI,EAAAC,EAAiBG,QAAAC,MAAjBT,GAAiB,EAAmB,CAApC,IAAMU,EAANN,EAAiBO,MACdC,EAAiBlB,EAAgB,GAAemB,OAAZH,IAClCI,EACNF,EADME,SAAUC,EAChBH,EADgBG,eAAgBC,EAChCJ,EADgCI,SAAUC,EAC1CL,EAD0CK,QAASC,EACnDN,EADmDM,aAAcC,EACjEP,EADiEO,MAAOC,EACxER,EADwEQ,SAAUC,EAClFT,EADkFS,MAAOC,EACzFV,EADyFU,WAAYC,EACrGX,EADqGW,IAAIC,EACzGZ,EADyGY,QAASC,EAClHb,EADkHa,GAAIC,EACtHd,EADsHc,IAAKC,EAC3Hf,EAD2He,UAGvHC,EAAYH,GAAMC,GAAOC,EACvBE,GAAgB,EAAAC,EAAAC,SAAuBhB,GAAkBC,GACzDgB,EAAcf,GAAWC,EACzBe,EAAed,GAASC,EAASc,KACjCC,EAAmBrB,EACnBsB,EAAqBb,GAAOC,EAC9Ba,OAAA,EAGsC,IACxCA,EAAShB,EAAM,GAAG,kBAAkB,GAAGE,KAAO,2BAA6BD,EAAW,GAAGC,G,CAIzF,MAAOe,GACPD,EACE,0F,CAGN/D,EAAiBiE,UAAY7D,IAAa,EAAA8D,EAAAT,SAAa,CACrDF,gBACAG,cACAC,eACAE,mBACAC,qBACAC,SACAT,a,WA/BC3B,GAAiB,EAAjBC,EAAiBuC,C,aAAjBzC,GAAiB,MAAjBK,EAAiBqC,QAAjBrC,EAAiBqC,Q,YAAjBzC,E,MAAAC,C,QALLzB,EAAqBkE,MAAMC,QAAU,O,CA0CzCC,E","sources":["src/favorite.js"],"sourcesContent":["import './index'\nimport './js/header';\nimport { ThemeSwitcher } from './js/themeSwitcher';\nimport { calendar } from './js/calendar';\nconst newsContainerRef = document.querySelector('.news_container');\nconst withoutNewsContainer = document.querySelector('.without-news_container')\n// const body = document.querySelector('body');\nconst searchInput = document.querySelector('.search_form');\n\nlet markupAll = '';\n\n\nimport { onSearchClick } from './js/header';\nconst btnSearch = document.querySelector('.search_mob_btn');\n\nbtnSearch.addEventListener('click', onSearchClick);\n\n\nconst STORAGE_FAVORITES_KEY = 'favorites';  \n\n\n//============= перемикач теми початок ==========\n\nconst themeSwitcherEl = document.querySelector('.switch_input');\nconst mobileSwitcherEl = document.querySelector('.switch_input--mobile');\n\nconst themeSwitcher = new ThemeSwitcher(themeSwitcherEl, mobileSwitcherEl);\n\nmobileSwitcherEl.addEventListener('change', themeSwitcher.onThemeToggle);\nthemeSwitcherEl.addEventListener('change', themeSwitcher.onThemeToggle);\n\nthemeSwitcher.renderTheme();\n//============= перемикач теми кінець ============\n\n\n\n// ------------------------------------------------------ GBPLTW -------------------------------- //\nimport publishedDateFormatter from './js/publishedDateFormatter';\nimport createmarkup from './js/news-card';\nimport { onAddToFavoritesClick } from './index.js';\n\nconst body = document.querySelector('body');\nbody.addEventListener('click', onAddToFavoritesClick);\n\nfunction addFavorite() {\n  const favorites = localStorage.getItem(STORAGE_FAVORITES_KEY);\n\n  if (!favorites) {\n    withoutNewsContainer.style.display = 'block';\n  } else {\n    const parsedFavorites = JSON.parse(favorites);\n    const favoritesKeys = Object.keys(parsedFavorites);\n\n    for (const favoriteKey of favoritesKeys) {\n      const parsedFavorite = parsedFavorites[`${favoriteKey}`];\n      const { abstract, published_date, pub_date, section, section_name, title, headline, media, multimedia, url,web_url, id, _id, slug_name, } =\n        parsedFavorite;\n\n      const articleId = id || _id || slug_name;\n        const publishedDate = publishedDateFormatter(published_date || pub_date);\n        const sectionName = section || section_name ;\n        const articleTitle = title || headline.main;\n        const shortDescription = abstract;\n        const urlOriginalArticle = url || web_url;\n        let imgUrl;\n\n      //   перевіряемо чи є зображення, де помилка там є відео\n        try {\n          imgUrl = media[0]['media-metadata'][2].url || 'https://www.nytimes.com/' + multimedia[0].url || multimedia[2].url;\n\n          //   якщо треба інший розмір картинки\n          // console.log(media[0]['media-metadata']);\n        } catch (error) {\n          imgUrl =\n            'https://t4.ftcdn.net/jpg/00/89/55/15/240_F_89551596_LdHAZRwz3i4EM4J0NHNHy2hEUYDfXc0j.jpg';\n        }\n\n      newsContainerRef.innerHTML = markupAll += createmarkup({\n        publishedDate,\n        sectionName,\n        articleTitle,\n        shortDescription,\n        urlOriginalArticle,\n        imgUrl,\n        articleId,\n      });\n    }\n  }\n}\n\naddFavorite();"],"names":["parcelRequire","$19661b0c25203147$var$newsContainerRef","document","querySelector","$19661b0c25203147$var$withoutNewsContainer","$19661b0c25203147$var$markupAll","addEventListener","$i8Q71","onSearchClick","$19661b0c25203147$var$themeSwitcherEl","$19661b0c25203147$var$mobileSwitcherEl","$19661b0c25203147$var$themeSwitcher","$3nfD2","ThemeSwitcher","onThemeToggle","renderTheme","$fSCrk","onAddToFavoritesClick","favorites","localStorage","getItem","parsedFavorites","JSON","parse","favoritesKeys","Object","keys","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","favoriteKey","value","parsedFavorite","concat","abstract","published_date","pub_date","section","section_name","title","headline","media","multimedia","url","web_url","id","_id","slug_name","articleId","publishedDate","$6F36k","default","sectionName","articleTitle","main","shortDescription","urlOriginalArticle","imgUrl","error","innerHTML","$lyUNr","err","return","style","display","$19661b0c25203147$var$addFavorite"],"version":3,"file":"favorite.a371acf9.js.map"}