!function(){function e(e){return e&&e.__esModule?e.default:e}var t=document.querySelector(".search_mob_btn"),n=document.querySelector(".search_form"),r=document.querySelector(".search_input"),a=document.querySelector(".search_btn");var c={};Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};var o={};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(e,t,n){t&&i(e.prototype,t);n&&i(e,n);return e};var l={};Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e};var s=function(){"use strict";function t(n,r){var a=this;e(c)(this,t),e(l)(this,"onThemeToggle",(function(){var e=a.getBoolean();e&&localStorage.setItem(a.THEME_STORAGE_KEY,a.Theme.DARK),e||localStorage.setItem(a.THEME_STORAGE_KEY,a.Theme.LIGHT),a.renderTheme()})),this.themeSwitcherEl=n,this.mobileSwitcherEl=r,this.THEME_STORAGE_KEY="theme",this.Theme={LIGHT:"light",DARK:"dark"}}return e(o)(t,[{key:"renderTheme",value:function(){var e=this.getBoolean();e||(this.themeSwitcherEl.setAttribute("checked",!0),this.mobileSwitcherEl.setAttribute("checked",!0),this.changeBodyClass(this.Theme.DARK,this.Theme.LIGHT)),e&&this.changeBodyClass(this.Theme.LIGHT,this.Theme.DARK)}},{key:"changeBodyClass",value:function(e,t){document.body.classList.add(e),document.body.classList.remove(t)}},{key:"getBoolean",value:function(){var e=localStorage.getItem(this.THEME_STORAGE_KEY);return e===this.Theme.LIGHT||!e}}]),t}();function u(e){return function(e){return[d(e.getDate()),d(e.getMonth()+1),e.getFullYear()].join("/")}(new Date(e))}function d(e){return e.toString().padStart(2,"0")}function h(e){var t=e.publishedDate,n=e.sectionName,r=e.articleTitle,a=e.shortDescription,c=e.urlOriginalArticle,o=e.imgUrl,i=e.articleId,l=a;if(a.length>110){var s=a.indexOf(" ",110);s>0&&(l=a.slice(0,s)+"...")}var u=r;if(r.length>58){var d=r.indexOf(" ",44);d>0&&(u=r.slice(0,d)+"...")}var h="Add to favorite",m=localStorage.getItem("favorites");if(m){var v=JSON.parse(m),_=Object.keys(v),f=!0,y=!1,g=void 0;try{for(var b,p=_[Symbol.iterator]();!(f=(b=p.next()).done);f=!0){var T=b.value,S=v["".concat(T)],E=S.id,w=S._id,k=S.slug_name;i===(E||w||k)&&(h="Remove from favorites")}}catch(e){y=!0,g=e}finally{try{f||null==p.return||p.return()}finally{if(y)throw g}}return'\n      <article class="card" id="'.concat(i,'">\n        <div class="card__img-container">\n          <img class="card__img" src="').concat(o,'" alt="').concat(r,'">\n          <p class="card__section-name">\n            ').concat(n,'\n          </p>\n          <button class="card__btn" type="button">\n            ').concat(h,' &#9825\n          </button>\n        </div>\n        <h2 class="card__title">\n          ').concat(u,'\n        </h2>\n        <p class="card__text">').concat(l,'</p>\n        <div class="card__bottom">\n          <span class="card__date">\n            ').concat(t,'\n          </span>\n          <a class="card__read-more-search"\n            href="').concat(c,'" target="_blank"\n          >\n            Read more\n          </a>\n        </div>\n      </article>\n    ')}}var m={},v=document.querySelector(".news_container"),_=document.querySelector(".without-news_container"),f=(document.querySelector(".search_form"),document.querySelector(".search_mob_btn")),y="";f.addEventListener("click",(function(){t.style.display="none",n.style.display="block",r.style.display="block",a.style.display="block"}));var g=document.querySelector(".switch_input"),b=document.querySelector(".switch_input--mobile"),p=new s(g,b);b.addEventListener("change",p.onThemeToggle),g.addEventListener("change",p.onThemeToggle),p.renderTheme();var T=document.querySelector("body"),S=[];function E(e){if("card__btn"===e.target.className){var t,n,r,a=(null===(t=e.target.closest(".card"))||void 0===t?void 0:t.id)||(null===(n=e.target.closest(".card"))||void 0===n?void 0:n.slug_name)||(null===(r=e.target.closest(".card"))||void 0===r?void 0:r._id);(0,m.setFavoritesInLocalStor)({resultsArr:S,clickedArticleId:a})}}!function(){var e=localStorage.getItem("favorites");if(e){var t=JSON.parse(e),n=Object.keys(t);T.addEventListener("click",E);var r=!0,a=!1,c=void 0;try{for(var o,i=n[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var l=o.value,s=t["".concat(l)];S.push(s);var d=s.abstract,m=s.pub_date,f=s.published_date,g=s.section,b=s.section_name,p=s.title,w=s.headline,k=s.media,O=s.multimedia,A=s.url,I=s.web_url,L=s.id,H=s._id,j=s.slug_name,q=L||H||j,D=u(f||m),M=g||b,R=p||w.main,G=d,K=A||I,N="";try{q===L&&(N=k[0]["media-metadata"][2].url,console.log(N)),q===j&&(N=O[2].url,console.log(N)),q===H&&(N="https://www.nytimes.com/"+O[0].url,console.log(N))}catch(e){N="https://t4.ftcdn.net/jpg/00/89/55/15/240_F_89551596_LdHAZRwz3i4EM4J0NHNHy2hEUYDfXc0j.jpg"}v.innerHTML=y+=h({publishedDate:D,sectionName:M,articleTitle:R,shortDescription:G,urlOriginalArticle:K,imgUrl:N,articleId:q})}}catch(e){a=!0,c=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}}else _.style.display="block"}()}();
//# sourceMappingURL=favorite.0b98dee1.js.map
