function e(e){return e&&e.__esModule?e.default:e}const t=document.querySelector(".search_mob_btn"),n=document.querySelector(".search_form"),c=document.querySelector(".search_input"),s=document.querySelector(".search_btn");var o={};Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e};function r(e){return function(e){return[i(e.getDate()),i(e.getMonth()+1),e.getFullYear()].join("/")}(new Date(e))}function i(e){return e.toString().padStart(2,"0")}function a({publishedDate:e,sectionName:t,articleTitle:n,shortDescription:c,urlOriginalArticle:s,imgUrl:o,articleId:r}){let i=c;if(c.length>110){const e=c.indexOf(" ",110);e>0&&(i=c.slice(0,e)+"...")}let a=n;if(n.length>58){const e=n.indexOf(" ",44);e>0&&(a=n.slice(0,e)+"...")}let l="Add to favorite";const d=localStorage.getItem("favorites");if(d){const c=JSON.parse(d),h=Object.keys(c);for(const e of h){const t=c[`${e}`],{id:n,_id:s,slug_name:o}=t;r===(n||s||o)&&(l="Remove from favorites")}return`\n      <article class="card" id="${r}">\n        <div class="card__img-container">\n          <img class="card__img" src="${o}" alt="${n}">\n          <p class="card__section-name">\n            ${t}\n          </p>\n          <button class="card__btn" type="button">\n            ${l} &#9825\n          </button>\n        </div>\n        <h2 class="card__title">\n          ${a}\n        </h2>\n        <p class="card__text">${i}</p>\n        <div class="card__bottom">\n          <span class="card__date">\n            ${e}\n          </span>\n          <a class="card__read-more-search"\n            href="${s}" target="_blank"\n          >\n            Read more\n          </a>\n        </div>\n      </article>\n    `}}var l={};const d=document.querySelector(".news_container"),h=document.querySelector(".without-news_container"),u=(document.querySelector(".search_form"),document.querySelector(".search_mob_btn"));let m="";u.addEventListener("click",(function(){t.style.display="none",n.style.display="block",c.style.display="block",s.style.display="block"}));const _=document.querySelector(".switch_input"),g=document.querySelector(".switch_input--mobile"),b=new class{renderTheme(){const e=this.getBoolean();e||(this.themeSwitcherEl.setAttribute("checked",!0),this.mobileSwitcherEl.setAttribute("checked",!0),this.changeBodyClass(this.Theme.DARK,this.Theme.LIGHT)),e&&this.changeBodyClass(this.Theme.LIGHT,this.Theme.DARK)}changeBodyClass(e,t){document.body.classList.add(e),document.body.classList.remove(t)}getBoolean(){const e=localStorage.getItem(this.THEME_STORAGE_KEY);return e===this.Theme.LIGHT||!e}constructor(t,n){e(o)(this,"onThemeToggle",(()=>{const e=this.getBoolean();e&&localStorage.setItem(this.THEME_STORAGE_KEY,this.Theme.DARK),e||localStorage.setItem(this.THEME_STORAGE_KEY,this.Theme.LIGHT),this.renderTheme()})),this.themeSwitcherEl=t,this.mobileSwitcherEl=n,this.THEME_STORAGE_KEY="theme",this.Theme={LIGHT:"light",DARK:"dark"}}}(_,g);g.addEventListener("change",b.onThemeToggle),_.addEventListener("change",b.onThemeToggle),b.renderTheme();const f=document.querySelector("body");let y=[];function T(e){if("card__btn"===e.target.className){const t=e.target.closest(".card")?.id||e.target.closest(".card")?.slug_name||e.target.closest(".card")?._id;(0,l.setFavoritesInLocalStor)({resultsArr:y,clickedArticleId:t})}}!function(){const e=localStorage.getItem("favorites");if(e){const t=JSON.parse(e),n=Object.keys(t);f.addEventListener("click",T);for(const e of n){const n=t[`${e}`];y.push(n);const{abstract:c,pub_date:s,published_date:o,section:i,section_name:l,title:h,headline:u,media:_,multimedia:g,url:b,web_url:f,id:T,_id:p,slug_name:S}=n,E=T||p||S,v=r(o||s),w=i||l,A=h||u.main,I=c,L=b||f;let O="";try{E===T&&(O=_[0]["media-metadata"][2].url,console.log(O)),E===S&&(O=g[2].url,console.log(O)),E===p&&(O="https://www.nytimes.com/"+g[0].url,console.log(O))}catch(e){O="https://t4.ftcdn.net/jpg/00/89/55/15/240_F_89551596_LdHAZRwz3i4EM4J0NHNHy2hEUYDfXc0j.jpg"}d.innerHTML=m+=a({publishedDate:v,sectionName:w,articleTitle:A,shortDescription:I,urlOriginalArticle:L,imgUrl:O,articleId:E})}}else h.style.display="block"}();
//# sourceMappingURL=favorite.019742d2.js.map
