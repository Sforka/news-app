{"mappings":"oeAAAA,EAAA,S,iGAIA,MAAMC,EAAmBC,SAASC,cAAc,mBAC1CC,EAAuBF,SAASC,cAAc,2BAEhCD,SAASC,cAAc,gBAE3C,IAAIE,EAAY,GAGEH,SAASC,cAAc,mBAE/BG,iBAAiB,QAASC,EAAAC,eAEpC,MAIMC,EAAkBP,SAASC,cAAc,iBACzCO,EAAmBR,SAASC,cAAc,yBAE1CQ,EAAgB,IAAI,EAAAC,EAAAC,eAAcJ,EAAiBC,GAEzDA,EAAiBJ,iBAAiB,SAAUK,EAAcG,eAC1DL,EAAgBH,iBAAiB,SAAUK,EAAcG,eAEzDH,EAAcI,cAODb,SAASC,cAAc,QAC/BG,iBAAiB,QAASU,EAAAC,uBAE/B,WACE,MAAMC,EAAYC,aAAaC,QAvBH,aAyB5B,GAAKF,EAEE,CACL,MAAMG,EAAkBC,KAAKC,MAAML,GAC7BM,EAAgBC,OAAOC,KAAKL,GAElC,IAAK,MAAMM,KAAeH,EAAe,CACvC,MAAMI,EAAiBP,EAAgB,GAAGM,MACpCE,SACJA,EAAQC,eACRA,EAAcC,SACdA,EAAQC,QACRA,EAAOC,aACPA,EAAYC,MACZA,EAAKC,SACLA,EAAQC,MACRA,EAAKC,WACLA,EAAUC,IACVA,EAAGC,QACHA,EAAOC,GACPA,EAAEC,IACFA,EAAGC,UACHA,GACEd,EAEEe,EAAYH,GAAMC,GAAOC,EACzBE,GAAgB,EAAAC,EAAAC,SAAuBhB,GAAkBC,GACzDgB,EAAcf,GAAWC,EACzBe,EAAed,GAASC,EAASc,KACjCC,EAAmBrB,EACnBsB,EAAqBb,GAAOC,EAClC,IAAIa,EAAS,GAI6B,IACpCT,IAAcH,IAChBY,EAAShB,EAAM,GAAG,kBAAkB,GAAGE,IACvCe,QAAQC,IAAIF,IAEVT,IAAcD,IAChBU,EAASf,EAAW,GAAGC,IACvBe,QAAQC,IAAIF,IAEVT,IAAcF,IAChBW,EAAS,2BAA6Bf,EAAW,GAAGC,IACpDe,QAAQC,IAAIF,G,CAKd,MAAOG,GACPH,EACE,0F,CAIJnD,EAAiBuD,UAAYnD,IAAa,EAAAoD,EAAAX,SAAa,C,cACrDF,E,YACAG,E,aACAC,E,iBACAE,E,mBACAC,E,OACAC,E,UACAT,G,OA/DJvC,EAAqBsD,MAAMC,QAAU,O,CAqEzCC","sources":["src/favorite.js"],"sourcesContent":["import './index';\nimport './js/header';\nimport { ThemeSwitcher } from './js/themeSwitcher';\nimport { calendar } from './js/calendar';\nconst newsContainerRef = document.querySelector('.news_container');\nconst withoutNewsContainer = document.querySelector('.without-news_container');\n// const body = document.querySelector('body');\nconst searchInput = document.querySelector('.search_form');\n\nlet markupAll = '';\n\nimport { onSearchClick } from './js/header';\nconst btnSearch = document.querySelector('.search_mob_btn');\n\nbtnSearch.addEventListener('click', onSearchClick);\n\nconst STORAGE_FAVORITES_KEY = 'favorites';\n\n//============= перемикач теми початок ==========\n\nconst themeSwitcherEl = document.querySelector('.switch_input');\nconst mobileSwitcherEl = document.querySelector('.switch_input--mobile');\n\nconst themeSwitcher = new ThemeSwitcher(themeSwitcherEl, mobileSwitcherEl);\n\nmobileSwitcherEl.addEventListener('change', themeSwitcher.onThemeToggle);\nthemeSwitcherEl.addEventListener('change', themeSwitcher.onThemeToggle);\n\nthemeSwitcher.renderTheme();\n//============= перемикач теми кінець ============\n\nimport publishedDateFormatter from './js/publishedDateFormatter';\nimport createmarkup from './js/news-card';\nimport { onAddToFavoritesClick } from './index.js';\n\nconst body = document.querySelector('body');\nbody.addEventListener('click', onAddToFavoritesClick);\n\nfunction addFavorite() {\n  const favorites = localStorage.getItem(STORAGE_FAVORITES_KEY);\n\n  if (!favorites) {\n    withoutNewsContainer.style.display = 'block';\n  } else {\n    const parsedFavorites = JSON.parse(favorites);\n    const favoritesKeys = Object.keys(parsedFavorites);\n\n    for (const favoriteKey of favoritesKeys) {\n      const parsedFavorite = parsedFavorites[`${favoriteKey}`];\n      const {\n        abstract,\n        published_date,\n        pub_date,\n        section,\n        section_name,\n        title,\n        headline,\n        media,\n        multimedia,\n        url,\n        web_url,\n        id,\n        _id,\n        slug_name,\n      } = parsedFavorite;\n\n      const articleId = id || _id || slug_name;\n      const publishedDate = publishedDateFormatter(published_date || pub_date);\n      const sectionName = section || section_name;\n      const articleTitle = title || headline.main;\n      const shortDescription = abstract;\n      const urlOriginalArticle = url || web_url;\n      let imgUrl = '';\n      let imgLink = 'https://www.nytimes.com/';\n\n      //   перевіряемо чи є зображення, де помилка там є відео\n      try {\n        if (articleId === id) {\n          imgUrl = media[0]['media-metadata'][2].url;\n          console.log(imgUrl);\n        }\n        if (articleId === slug_name) {\n          imgUrl = multimedia[2].url;\n          console.log(imgUrl);\n        }\n        if (articleId === _id) {\n          imgUrl = 'https://www.nytimes.com/' + multimedia[0].url;\n          console.log(imgUrl);\n        }\n\n        //   якщо треба інший розмір картинки\n        // console.log(media[0]['media-metadata']);\n      } catch (error) {\n        imgUrl =\n          'https://t4.ftcdn.net/jpg/00/89/55/15/240_F_89551596_LdHAZRwz3i4EM4J0NHNHy2hEUYDfXc0j.jpg';\n      }\n\n\n      newsContainerRef.innerHTML = markupAll += createmarkup({\n        publishedDate,\n        sectionName,\n        articleTitle,\n        shortDescription,\n        urlOriginalArticle,\n        imgUrl,\n        articleId,\n      });\n    }\n  }\n}\n\naddFavorite();\n"],"names":["parcelRequire","$f2929da3ca31033d$var$newsContainerRef","document","querySelector","$f2929da3ca31033d$var$withoutNewsContainer","$f2929da3ca31033d$var$markupAll","addEventListener","$bUb57","onSearchClick","$f2929da3ca31033d$var$themeSwitcherEl","$f2929da3ca31033d$var$mobileSwitcherEl","$f2929da3ca31033d$var$themeSwitcher","$lMgIy","ThemeSwitcher","onThemeToggle","renderTheme","$2Fivl","onAddToFavoritesClick","favorites","localStorage","getItem","parsedFavorites","JSON","parse","favoritesKeys","Object","keys","favoriteKey","parsedFavorite","abstract","published_date","pub_date","section","section_name","title","headline","media","multimedia","url","web_url","id","_id","slug_name","articleId","publishedDate","$eUZtB","default","sectionName","articleTitle","main","shortDescription","urlOriginalArticle","imgUrl","console","log","error","innerHTML","$1n11p","style","display","$f2929da3ca31033d$var$addFavorite"],"version":3,"file":"favorite.8beb6d73.js.map"}