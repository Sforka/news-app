function e(e){return e&&e.__esModule?e.default:e}let t="fav-icon-add";function r({publishedDate:e,sectionName:r,articleTitle:n,shortDescription:a,urlOriginalArticle:c,imgUrl:s,articleId:o}){let i=a;if(a.length>110){const e=a.indexOf(" ",110);e>0&&(i=a.slice(0,e)+"...")}let l=n;if(n.length>58){const e=n.indexOf(" ",44);e>0&&(l=n.slice(0,e)+"...")}let d="Add to favorite";const u=localStorage.getItem("favorites");if(u){const e=JSON.parse(u),r=Object.keys(e);for(const n of r){const r=e[`${n}`],{id:a,_id:c,slug_name:s}=r;o===(a||c||s)?(d="Remove from favorites",t="fav-icon-remove"):t="fav-icon-add"}}return`\n      <article class="card" id="${o}">\n\n        <div class="card__img-container" >\n          <div class="card__blur" id_card="${o}">\n            <p class="card__already-read">\n              Already read âœ“\n            </p>\n            </div>\n          <img class="card__img" src="${s}" alt="${n}">\n          <p class="card__section-name">\n            ${r}\n          </p>\n          <button class="card__btn" type="button">\n           ${d}\n          </button>\n          ${`<svg class="fav-icon ${t}" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 3C4.239 3 2 5.216 2 7.95c0 2.207.875 7.445 9.488 12.74a.985.985 0 0 0 1.024 0C21.125 15.395 22 10.157 22 7.95C22 5.216 19.761 3 17 3s-5 3-5 3s-2.239-3-5-3Z"/></svg>`}\n        </div>\n        <h2 class="card__title">\n          ${l}\n        </h2>\n        <p class="card__text">${i}</p>\n        <div class="card__bottom">\n          <span class="card__date">\n            ${e}\n          </span>\n          <a class="card__read-more-search"\n            href="${c}" target="_blank"\n          >\n            Read more\n          </a>\n        </div>\n      </article>\n    `}document.querySelector(".search_mob_btn"),document.querySelector(".search_form"),document.querySelector(".search_input"),document.querySelector(".search_btn");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r;return e};function a(e){return function(e){return[c(e.getDate()),c(e.getMonth()+1),e.getFullYear()].join("/")}(new Date(e))}function c(e){return e.toString().padStart(2,"0")}function s({resultsArr:e,clickedArticleId:t,evt:r}){const n="favorites";e.forEach((e=>{if(e.id==t||e.slug_name==t||e._id==t){let a=localStorage.getItem(n);if(a=a?JSON.parse(a):{},console.dir(r.target.nextElementSibling),a[t]){delete a[`${t}`];return"Remove from favorites"===r.target.textContent&&(r.target.textContent="Add to favorites",r.target.textContent="Add to favorites"),void localStorage.setItem(n,JSON.stringify(a))}a[t]=e,localStorage.setItem(n,JSON.stringify(a))}}))}function o({resultsArr:e,clickedArticleId:t,evt:r}){const n="read";e.forEach((e=>{if(e.id==t||e.slug_name==t||e._id==t){let r=localStorage.getItem(n);r=r?JSON.parse(r):{},e.dateOfReading=function(){const e=(new Date).getDate(),t=(new Date).getMonth()+1,r=(new Date).getFullYear();return`${e}/${t}/${r}`}(),r[t]=e,localStorage.setItem(n,JSON.stringify(r))}}))}const i=document.querySelector(".news_container"),l=document.querySelector("body"),d=document.querySelector(".search_form"),u=document.querySelector(".without-news_container");let h="";d.addEventListener("submit",(function(e){e.preventDefault();const t=e.target.elements.searchQuery.value;localStorage.setItem("searchQueryFromFavorites",t),window.open("index.html","_self")}));const m=document.querySelector(".switch_input"),g=document.querySelector(".switch_input--mobile"),_=new class{renderTheme(){const e=this.getBoolean();e||(this.themeSwitcherEl.setAttribute("checked",!0),this.mobileSwitcherEl.setAttribute("checked",!0),this.changeBodyClass(this.Theme.DARK,this.Theme.LIGHT),"index"===this.currentPage&&(this.dataSelected.style.color="#F4F4F4",this.dataSelected.style.backgroundColor="#2E2E2E",this.dateField.style.backgroundColor="#2E2E2E")),e&&(this.changeBodyClass(this.Theme.LIGHT,this.Theme.DARK),"index"===this.currentPage&&(this.dataSelected.style.color="#111321",this.dataSelected.style.backgroundColor="#F4F4F4",this.dateField.style.backgroundColor="#F4F4F4"))}changeBodyClass(e,t){document.body.classList.add(e),document.body.classList.remove(t)}getBoolean(){const e=localStorage.getItem(this.THEME_STORAGE_KEY);return e===this.Theme.LIGHT||!e}constructor(t,r){e(n)(this,"onThemeToggle",(()=>{const e=this.getBoolean();e&&localStorage.setItem(this.THEME_STORAGE_KEY,this.Theme.DARK),e||localStorage.setItem(this.THEME_STORAGE_KEY,this.Theme.LIGHT),this.renderTheme()})),this.themeSwitcherEl=t,this.mobileSwitcherEl=r,this.dateField=document.querySelector(".date-field"),this.dataSelected=document.querySelector(".data_selected"),this.currentPage=document.querySelector("body").getAttribute("data-current-page"),this.THEME_STORAGE_KEY="theme",this.Theme={LIGHT:"light",DARK:"dark"}}}(m,g);g.addEventListener("change",_.onThemeToggle),m.addEventListener("change",_.onThemeToggle),_.renderTheme(),l.addEventListener("click",(function(e){if("card__btn"===e.target.className){const t=e.target.closest(".card")?.id||e.target.closest(".card")?.slug_name||e.target.closest(".card")?._id,r=f;e.target.textContent.contains="Add to favorites",e.target.textContent="Remove from favorites",s({resultsArr:r,clickedArticleId:t,evt:e})}})),l.addEventListener("click",(function(e){if("card__read-more-search"===e.target.className){const t=e.target.closest(".card")?.id||e.target.closest(".card")?.slug_name||e.target.closest(".card")?._id,r=f;document.querySelector(`[id_card="${t}"]`).style.display="block",o({resultsArr:r,clickedArticleId:t,evt:e})}}));let f=[];!function(){const e=localStorage.getItem("favorites");if(e&&0!==Object.entries(JSON.parse(e)).length){const t=JSON.parse(e),n=Object.keys(t);for(const e of n){const n=t[`${e}`];f.push(n);const{abstract:c,published_date:s,pub_date:o,section:i,section_name:l,title:d,headline:u,media:m,multimedia:g,url:_,web_url:S,id:y,_id:v,slug_name:b}=n,p=y||v||b,E=a(s||o),T=i||l,w=d||u.main,A=c,I=_||S;let O="";try{p===y&&(O=m[0]["media-metadata"][2].url),p===b&&(O=g[2].url),p===v&&(O="https://www.nytimes.com/"+g[0].url)}catch(e){O="https://t4.ftcdn.net/jpg/00/89/55/15/240_F_89551596_LdHAZRwz3i4EM4J0NHNHy2hEUYDfXc0j.jpg"}h+=r({publishedDate:E,sectionName:T,articleTitle:w,shortDescription:A,urlOriginalArticle:I,imgUrl:O,articleId:p})}i.innerHTML=h}else u.style.display="block"}();
//# sourceMappingURL=favorite.25f72aab.js.map
