!function(){function e(e){return e&&e.__esModule?e.default:e}function t(e){var t=e.publishedDate,n=e.sectionName,r=e.articleTitle,a=e.shortDescription,o=e.urlOriginalArticle,c=e.imgUrl,i=e.articleId,l=a;if(a.length>110){var s=a.indexOf(" ",110);s>0&&(l=a.slice(0,s)+"...")}var d=r;if(r.length>58){var u=r.indexOf(" ",44);u>0&&(d=r.slice(0,u)+"...")}var h="Add to favorite",f=localStorage.getItem("favorites");if(f){var g=JSON.parse(f),m=Object.keys(g),v=!0,_=!1,y=void 0;try{for(var b,p=m[Symbol.iterator]();!(v=(b=p.next()).done);v=!0){var S=b.value,w=g["".concat(S)],T=w.id,E=w._id,O=w.slug_name;i===(T||E||O)&&(h="Remove from favorites")}}catch(e){_=!0,y=e}finally{try{v||null==p.return||p.return()}finally{if(_)throw y}}}return'\n      <article class="card" id="'.concat(i,'">\n\n        <div class="card__img-container" >\n          <div class="card__blur" id_card="').concat(i,'">\n            <p class="card__already-read">\n              Already read âœ“\n            </p>\n          </div>\n          <img class="card__img" src="').concat(c,'" alt="').concat(r,'">\n          <p class="card__section-name">\n            ').concat(n,'\n          </p>\n          <button class="card__btn" type="button">\n           ').concat(h,"\n          </button>\n          ").concat('<svg class="fav-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"><path fill="none" stroke="#4440F6" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 3C4.239 3 2 5.216 2 7.95c0 2.207.875 7.445 9.488 12.74a.985.985 0 0 0 1.024 0C21.125 15.395 22 10.157 22 7.95C22 5.216 19.761 3 17 3s-5 3-5 3s-2.239-3-5-3Z"/></svg>','\n        </div>\n        <h2 class="card__title">\n          ').concat(d,'\n        </h2>\n        <p class="card__text">').concat(l,'</p>\n        <div class="card__bottom">\n          <span class="card__date">\n            ').concat(t,'\n          </span>\n          <a class="card__read-more-search"\n            href="').concat(o,'" target="_blank"\n          >\n            Read more\n          </a>\n        </div>\n      </article>\n    ')}document.querySelector(".search_mob_btn"),document.querySelector(".search_form"),document.querySelector(".search_input"),document.querySelector(".search_btn");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};var r={};function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t,n){t&&a(e.prototype,t);n&&a(e,n);return e};var o={};Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e};var c=function(){"use strict";function t(r,a){var c=this;e(n)(this,t),e(o)(this,"onThemeToggle",(function(){var e=c.getBoolean();e&&localStorage.setItem(c.THEME_STORAGE_KEY,c.Theme.DARK),e||localStorage.setItem(c.THEME_STORAGE_KEY,c.Theme.LIGHT),c.renderTheme()})),this.themeSwitcherEl=r,this.mobileSwitcherEl=a,this.dataSelected=document.querySelector(".data_selected"),this.currentPage=document.querySelector("body").getAttribute("data-current-page"),this.THEME_STORAGE_KEY="theme",this.Theme={LIGHT:"light",DARK:"dark"}}return e(r)(t,[{key:"renderTheme",value:function(){var e=this.getBoolean();e||(this.themeSwitcherEl.setAttribute("checked",!0),this.mobileSwitcherEl.setAttribute("checked",!0),this.changeBodyClass(this.Theme.DARK,this.Theme.LIGHT),"index"===this.currentPage&&(this.dataSelected.style.color="#F4F4F4")),e&&(this.changeBodyClass(this.Theme.LIGHT,this.Theme.DARK),"index"===this.currentPage&&(this.dataSelected.style.color="#111321"))}},{key:"changeBodyClass",value:function(e,t){document.body.classList.add(e),document.body.classList.remove(t)}},{key:"getBoolean",value:function(){var e=localStorage.getItem(this.THEME_STORAGE_KEY);return e===this.Theme.LIGHT||!e}}]),t}();function i(e){return function(e){return[l(e.getDate()),l(e.getMonth()+1),e.getFullYear()].join("/")}(new Date(e))}function l(e){return e.toString().padStart(2,"0")}function s(e){var t=e.resultsArr,n=e.clickedArticleId,r=e.evt,a="favorites";t.forEach((function(e){if(e.id==n||e.slug_name==n||e._id==n){var t=localStorage.getItem(a);if((t=t?JSON.parse(t):{})[n])return delete t["".concat(n)],r.target.textContent.contains="Remove from favorites",r.target.textContent="Add to favorites",void localStorage.setItem(a,JSON.stringify(t));t[n]=e,localStorage.setItem(a,JSON.stringify(t))}}))}function d(e){var t=e.resultsArr,n=e.clickedArticleId,r=(e.evt,"read");t.forEach((function(e){if(e.id==n||e.slug_name==n||e._id==n){var t=localStorage.getItem(r);t=t?JSON.parse(t):{},e.dateOfReading=(a=(new Date).getDate(),o=(new Date).getMonth()+1,c=(new Date).getFullYear(),DateOfRead="".concat(a,"/").concat(o,"/").concat(c),DateOfRead),t[n]=e,console.log(e),localStorage.setItem(r,JSON.stringify(t))}var a,o,c}))}document.querySelector(".news_container");var u=document.querySelector("body"),h=(document.querySelector(".body"),document.querySelector(".search_form"),document.querySelector(".without-news_container")),f=[],g=[],m=[],v=[],_=[],y="",b="",p="";function S(e,t,n){return n.indexOf(e)===t}read=localStorage.getItem("read"),read?function(e){var t=e,n=Object.keys(t);console.log(t),console.log(n);var r=!0,a=!1,o=void 0;try{for(var c,i=n[Symbol.iterator]();!(r=(c=i.next()).done);r=!0){var l=c.value,s=t["".concat(l)];v.push(s),s.abstract,s.published_date,s.pub_date,s.section,s.section_name,s.title,s.headline,s.media,s.multimedia,s.url,s.web_url,s.id,s._id,s.slug_name,s.dateOfReading,v.forEach((function(e){f.push(e.dateOfReading)})),g=f.filter(S)}}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}}(JSON.parse(read)):h.style.display="block",console.log(v),function(e){read||(h.style.display="block");y="",e.forEach((function(e){return function(e){b='\n    <section class = "section_read container"\n    <div class = "section-title">\n    <button class = "section-title_btn"__text>'.concat(e,' <svg class="date-list__btn-icon" width="14" height="9" aria-hidden="true" style="position: absolute;>\n    <symbol id=" icon-vector-2-1"="" viewBox="0 0 50 32">\n    <path d="M5.867 0l-5.867 6.080 24.889 25.92 24.889-25.92-5.831-6.080-19.058 19.769-19.058-19.769z"></path>\n    </svg></button>\n    \n    </div>\n    <ul class = "news_container">')}(e),function(e){m=v.filter((function(t){return t.dateOfReading==e}))}(e),function(e){var n=e,r=Object.keys(n),a=!0,o=!1,c=void 0;try{for(var l,s=r[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var d=l.value,u=n["".concat(d)];_.push(u);var h=u.abstract,f=u.published_date,g=u.pub_date,m=u.section,v=u.section_name,y=u.title,b=u.headline,S=u.media,w=u.multimedia,T=u.url,E=u.web_url,O=u.id,A=u._id,k=u.slug_name,I=O||A||k,D=i(f||g),R=m||v,x=y||b.main,q=h,j=T||E,M="";try{I===O&&(M=S[0]["media-metadata"][2].url),I===k&&(M=w[2].url),I===A&&(M="https://www.nytimes.com/"+w[0].url)}catch(e){M="https://t4.ftcdn.net/jpg/00/89/55/15/240_F_89551596_LdHAZRwz3i4EM4J0NHNHy2hEUYDfXc0j.jpg"}p+=t({publishedDate:D,sectionName:R,articleTitle:x,shortDescription:q,urlOriginalArticle:j,imgUrl:M,articleId:I}),console.log(p)}}catch(e){o=!0,c=e}finally{try{a||null==s.return||s.return()}finally{if(o)throw c}}}(m),y+=b+p+"</ul></section>"}))}(g),u.insertAdjacentHTML("beforeend",y);var w=document.querySelector(".news_container");document.querySelector(".section-title_btn").addEventListener("click",(function(e){w.style.display="grid"==getComputedStyle(w).display?"none":"grid",console.log(e),e.target.elements.style.transform="rotateX(180deg)"}));var T=document.querySelector(".switch_input"),E=document.querySelector(".switch_input--mobile"),O=new c(T,E);function i(e){return function(e){return[A(e.getDate()),A(e.getMonth()+1),e.getFullYear()].join("/")}(new Date(e))}function A(e){return e.toString().padStart(2,"0")}E.addEventListener("change",O.onThemeToggle),T.addEventListener("change",O.onThemeToggle),O.renderTheme(),u.addEventListener("click",(function(e){if("card__btn"===e.target.className){var t,n,r,a=(null===(t=e.target.closest(".card"))||void 0===t?void 0:t.id)||(null===(n=e.target.closest(".card"))||void 0===n?void 0:n.slug_name)||(null===(r=e.target.closest(".card"))||void 0===r?void 0:r._id),o=v;e.target.textContent.contains="Add to favorites",e.target.textContent="Remove from favorites",s({resultsArr:o,clickedArticleId:a,evt:e})}})),u.addEventListener("click",(function(e){if("card__read-more-search"===e.target.className){var t,n,r,a=(null===(t=e.target.closest(".card"))||void 0===t?void 0:t.id)||(null===(n=e.target.closest(".card"))||void 0===n?void 0:n.slug_name)||(null===(r=e.target.closest(".card"))||void 0===r?void 0:r._id),o=v;document.querySelector('[id_card="'.concat(a,'"]')).style.display="block",d({resultsArr:o,clickedArticleId:a,evt:e})}}))}();
//# sourceMappingURL=read.1bfccb7b.js.map
