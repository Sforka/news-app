!function(){function e(e){return e&&e.__esModule?e.default:e}function t(e){var t=e.publishedDate,r=e.sectionName,n=e.articleTitle,a=e.shortDescription,c=e.urlOriginalArticle,o=e.imgUrl,i=e.articleId,l=a;if(a.length>110){var s=a.indexOf(" ",110);s>0&&(l=a.slice(0,s)+"...")}var d=n;if(n.length>58){var u=n.indexOf(" ",44);u>0&&(d=n.slice(0,u)+"...")}return'\n      <article class="card" id="'.concat(i,'">\n        <div class="card__img-container">\n          <img class="card__img" src="').concat(o,'" alt="').concat(n,'">\n          <p class="card__section-name">\n            ').concat(r,'\n          </p>\n          <button class="card__btn" type="button">\n            Add to favorite <span class="card__btn-heart">&#9825;</span>\n          </button>\n        </div>\n        <h2 class="card__title">\n          ').concat(d,'\n        </h2>\n        <p class="card__text">').concat(l,'</p>\n        <div class="card__bottom">\n          <span class="card__date">\n            ').concat(t,'\n          </span>\n          <a class="card__read-more-search"\n            href="').concat(c,'" target="_blank"\n          >\n            Read more\n          </a>\n        </div>\n      </article>\n    ')}document.querySelector(".search_mob_btn"),document.querySelector(".search_form"),document.querySelector(".search_input"),document.querySelector(".search_btn");var r={};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};var n={};function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,r){t&&a(e.prototype,t);r&&a(e,r);return e};var c={};Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r;return e};var o=function(){"use strict";function t(n,a){var o=this;e(r)(this,t),e(c)(this,"onThemeToggle",(function(){var e=o.getBoolean();e&&localStorage.setItem(o.THEME_STORAGE_KEY,o.Theme.DARK),e||localStorage.setItem(o.THEME_STORAGE_KEY,o.Theme.LIGHT),o.renderTheme()})),this.themeSwitcherEl=n,this.mobileSwitcherEl=a,this.dataSelected=document.querySelector(".data_selected"),this.currentPage=document.querySelector("body").getAttribute("data-current-page"),this.THEME_STORAGE_KEY="theme",this.Theme={LIGHT:"light",DARK:"dark"}}return e(n)(t,[{key:"renderTheme",value:function(){var e=this.getBoolean();e||(this.themeSwitcherEl.setAttribute("checked",!0),this.mobileSwitcherEl.setAttribute("checked",!0),this.changeBodyClass(this.Theme.DARK,this.Theme.LIGHT),"index"===this.currentPage&&(this.dataSelected.style.color="#F4F4F4")),e&&(this.changeBodyClass(this.Theme.LIGHT,this.Theme.DARK),"index"===this.currentPage&&(this.dataSelected.style.color="#111321"))}},{key:"changeBodyClass",value:function(e,t){document.body.classList.add(e),document.body.classList.remove(t)}},{key:"getBoolean",value:function(){var e=localStorage.getItem(this.THEME_STORAGE_KEY);return e===this.Theme.LIGHT||!e}}]),t}();function i(e){return function(e){return[l(e.getDate()),l(e.getMonth()+1),e.getFullYear()].join("/")}(new Date(e))}function l(e){return e.toString().padStart(2,"0")}var s=document.querySelector(".news_container"),d=document.querySelector("body"),u=(document.querySelector(".search_form"),document.querySelector(".without-news_container")),h="",m=document.querySelector(".switch_input"),_=document.querySelector(".switch_input--mobile"),f=new o(m,_);_.addEventListener("change",f.onThemeToggle),m.addEventListener("change",f.onThemeToggle),f.renderTheme(),d.addEventListener("click",(function(e){if("card__btn"===e.target.className){var t,r,n,a=(null===(t=e.target.closest(".card"))||void 0===t?void 0:t.id)||(null===(r=e.target.closest(".card"))||void 0===r?void 0:r.slug_name)||(null===(n=e.target.closest(".card"))||void 0===n?void 0:n._id),c=favoritesArrFedor;e.target.textContent.contains="Add to favorites",e.target.textContent="Remove from favorites",setFavoritesInLocalStor({resultsArr:c,clickedArticleId:a,evt:e})}})),function(){console.log("1");var e=localStorage.getItem("favorites");if(e){var r=JSON.parse(e),n=Object.keys(r),a=!0,c=!1,o=void 0;try{for(var l,d=n[Symbol.iterator]();!(a=(l=d.next()).done);a=!0){var m=l.value,_=r["".concat(m)],f=_.abstract,g=_.published_date,v=_.pub_date,y=_.section,b=_.section_name,p=_.title,T=_.headline,S=_.media,E=_.multimedia,w=_.url,A=_.web_url,O=_.id,H=_._id,I=_.slug_name,L=O||H||I,q=i(g||v),k=y||b,D=p||T.main,M=f,R=w||A,j="";try{L===O&&(j=S[0]["media-metadata"][2].url),L===I&&(j=E[2].url),L===H&&(j="https://www.nytimes.com/"+E[0].url)}catch(e){j="https://t4.ftcdn.net/jpg/00/89/55/15/240_F_89551596_LdHAZRwz3i4EM4J0NHNHy2hEUYDfXc0j.jpg"}h+=t({publishedDate:q,sectionName:k,articleTitle:D,shortDescription:M,urlOriginalArticle:R,imgUrl:j,articleId:L})}}catch(e){c=!0,o=e}finally{try{a||null==d.return||d.return()}finally{if(c)throw o}}s.innerHTML=h}else u.style.display="flex"}()}();
//# sourceMappingURL=favorite.8958bb6b.js.map
