!function(){function e(e){return e&&e.__esModule?e.default:e}function t(e){var t=e.publishedDate,n=e.sectionName,r=e.articleTitle,a=e.shortDescription,c=e.urlOriginalArticle,o=e.imgUrl,i=e.articleId,l=a;if(a.length>110){var s=a.indexOf(" ",110);s>0&&(l=a.slice(0,s)+"...")}var u=r;if(r.length>58){var d=r.indexOf(" ",44);d>0&&(u=r.slice(0,d)+"...")}var h="Add to favorite",m=localStorage.getItem("favorites");if(m){var f=JSON.parse(m),_=Object.keys(f),g=!0,y=!1,v=void 0;try{for(var b,p=_[Symbol.iterator]();!(g=(b=p.next()).done);g=!0){var S=b.value,T=f["".concat(S)],w=T.id,E=T._id,O=T.slug_name;i===(w||E||O)&&(h="Remove from favorites")}}catch(e){y=!0,v=e}finally{try{g||null==p.return||p.return()}finally{if(y)throw v}}}return'\n      <article class="card" id="'.concat(i,'">\n        <div class="card__img-container">\n          <img class="card__img" src="').concat(o,'" alt="').concat(r,'">\n          <p class="card__section-name">\n            ').concat(n,'\n          </p>\n          <button class="card__btn" type="button">\n           ').concat(h,'\n          </button>\n        </div>\n        <h2 class="card__title">\n          ').concat(u,'\n        </h2>\n        <p class="card__text">').concat(l,'</p>\n        <div class="card__bottom">\n          <span class="card__date">\n            ').concat(t,'\n          </span>\n          <a class="card__read-more-search"\n            href="').concat(c,'" target="_blank"\n          >\n            Read more\n          </a>\n        </div>\n      </article>\n    ')}document.querySelector(".search_mob_btn"),document.querySelector(".search_form"),document.querySelector(".search_input"),document.querySelector(".search_btn");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};var r={};function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t,n){t&&a(e.prototype,t);n&&a(e,n);return e};var c={};Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e};var o=function(){"use strict";function t(r,a){var o=this;e(n)(this,t),e(c)(this,"onThemeToggle",(function(){var e=o.getBoolean();e&&localStorage.setItem(o.THEME_STORAGE_KEY,o.Theme.DARK),e||localStorage.setItem(o.THEME_STORAGE_KEY,o.Theme.LIGHT),o.renderTheme()})),this.themeSwitcherEl=r,this.mobileSwitcherEl=a,this.dataSelected=document.querySelector(".data_selected"),this.currentPage=document.querySelector("body").getAttribute("data-current-page"),this.THEME_STORAGE_KEY="theme",this.Theme={LIGHT:"light",DARK:"dark"}}return e(r)(t,[{key:"renderTheme",value:function(){var e=this.getBoolean();e||(this.themeSwitcherEl.setAttribute("checked",!0),this.mobileSwitcherEl.setAttribute("checked",!0),this.changeBodyClass(this.Theme.DARK,this.Theme.LIGHT),"index"===this.currentPage&&(this.dataSelected.style.color="#F4F4F4")),e&&(this.changeBodyClass(this.Theme.LIGHT,this.Theme.DARK),"index"===this.currentPage&&(this.dataSelected.style.color="#111321"))}},{key:"changeBodyClass",value:function(e,t){document.body.classList.add(e),document.body.classList.remove(t)}},{key:"getBoolean",value:function(){var e=localStorage.getItem(this.THEME_STORAGE_KEY);return e===this.Theme.LIGHT||!e}}]),t}();function i(e){return function(e){return[l(e.getDate()),l(e.getMonth()+1),e.getFullYear()].join("/")}(new Date(e))}function l(e){return e.toString().padStart(2,"0")}document.querySelector(".news_container");var s=document.querySelector("body"),u=(document.querySelector(".body"),document.querySelector(".search_form"),document.querySelector(".without-news_container")),d=[],h=[],m=[],f=[],_=[],g="",y="",v="";function b(e,t,n){return n.indexOf(e)===t}read=localStorage.getItem("read"),read?function(e){var t=e,n=Object.keys(t);console.log(t),console.log(n);var r=!0,a=!1,c=void 0;try{for(var o,i=n[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var l=o.value,s=t["".concat(l)];f.push(s),s.abstract,s.published_date,s.pub_date,s.section,s.section_name,s.title,s.headline,s.media,s.multimedia,s.url,s.web_url,s.id,s._id,s.slug_name,s.dateOfReading,f.forEach((function(e){d.push(e.dateOfReading)})),h=d.filter(b)}}catch(e){a=!0,c=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}}(JSON.parse(read)):u.style.display="block",console.log(f),function(e){read||(u.style.display="block");g="",e.forEach((function(e){return function(e){y='\n    <section class = "section container"\n    <div class = "section-title">\n    <p class = "section-title"__text>'.concat(e,'</p>\n    <svg class="section-title__icon" width="12" height="8">\n        <use href="./images/symbol-defs.svg#"icon-Vector-Down"></use>\n    </svg>\n    </div>\n    <ul class = "news_container">')}(e),function(e){m=f.filter((function(t){return t.dateOfReading==e}))}(e),function(e){var n=e,r=Object.keys(n),a=!0,c=!1,o=void 0;try{for(var l,s=r[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var u=l.value,d=n["".concat(u)];_.push(d);var h=d.abstract,m=d.published_date,f=d.pub_date,g=d.section,y=d.section_name,b=d.title,p=d.headline,S=d.media,T=d.multimedia,w=d.url,E=d.web_url,O=d.id,A=d._id,j=d.slug_name,D=O||A||j,R=i(m||f),k=g||y,q=b||p.main,H=h,I=w||E,M="";try{D===O&&(M=S[0]["media-metadata"][2].url),D===j&&(M=T[2].url),D===A&&(M="https://www.nytimes.com/"+T[0].url)}catch(e){M="https://t4.ftcdn.net/jpg/00/89/55/15/240_F_89551596_LdHAZRwz3i4EM4J0NHNHy2hEUYDfXc0j.jpg"}v+=t({publishedDate:R,sectionName:k,articleTitle:q,shortDescription:H,urlOriginalArticle:I,imgUrl:M,articleId:D}),console.log(v)}}catch(e){c=!0,o=e}finally{try{a||null==s.return||s.return()}finally{if(c)throw o}}}(m),g+=y+v+"</ul></section>"}))}(h),s.insertAdjacentHTML("beforeend",g);var p=document.querySelector(".switch_input"),S=document.querySelector(".switch_input--mobile"),T=new o(p,S);function i(e){return function(e){return[w(e.getDate()),w(e.getMonth()+1),e.getFullYear()].join("/")}(new Date(e))}function w(e){return e.toString().padStart(2,"0")}S.addEventListener("change",T.onThemeToggle),p.addEventListener("change",T.onThemeToggle),T.renderTheme()}();
//# sourceMappingURL=read.e170b7b3.js.map
