function e(e){return e&&e.__esModule?e.default:e}function t({publishedDate:e,sectionName:t,articleTitle:n,shortDescription:r,urlOriginalArticle:c,imgUrl:a,articleId:s}){let i=r;if(r.length>110){const e=r.indexOf(" ",110);e>0&&(i=r.slice(0,e)+"...")}let o=n;if(n.length>58){const e=n.indexOf(" ",44);e>0&&(o=n.slice(0,e)+"...")}return`\n      <article class="card" id="${s}">\n        <div class="card__img-container">\n          <img class="card__img" src="${a}" alt="${n}">\n          <p class="card__section-name">\n            ${t}\n          </p>\n          <button class="card__btn" type="button">\n            Add to favorite <span class="card__btn-heart">&#9825;</span>\n          </button>\n        </div>\n        <h2 class="card__title">\n          ${o}\n        </h2>\n        <p class="card__text">${i}</p>\n        <div class="card__bottom">\n          <span class="card__date">\n            ${e}\n          </span>\n          <a class="card__read-more-search"\n            href="${c}" target="_blank"\n          >\n            Read more\n          </a>\n        </div>\n      </article>\n    `}document.querySelector(".search_mob_btn"),document.querySelector(".search_form"),document.querySelector(".search_input"),document.querySelector(".search_btn");var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e};function r(e){return function(e){return[c(e.getDate()),c(e.getMonth()+1),e.getFullYear()].join("/")}(new Date(e))}function c(e){return e.toString().padStart(2,"0")}const a=document.querySelector(".news_container"),s=document.querySelector("body"),i=(document.querySelector(".search_form"),document.querySelector(".without-news_container"));let o="";const l=document.querySelector(".switch_input"),d=document.querySelector(".switch_input--mobile"),h=new class{renderTheme(){const e=this.getBoolean();e||(this.themeSwitcherEl.setAttribute("checked",!0),this.mobileSwitcherEl.setAttribute("checked",!0),this.changeBodyClass(this.Theme.DARK,this.Theme.LIGHT),"index"===this.currentPage&&(this.dataSelected.style.color="#F4F4F4")),e&&(this.changeBodyClass(this.Theme.LIGHT,this.Theme.DARK),"index"===this.currentPage&&(this.dataSelected.style.color="#111321"))}changeBodyClass(e,t){document.body.classList.add(e),document.body.classList.remove(t)}getBoolean(){const e=localStorage.getItem(this.THEME_STORAGE_KEY);return e===this.Theme.LIGHT||!e}constructor(t,r){e(n)(this,"onThemeToggle",(()=>{const e=this.getBoolean();e&&localStorage.setItem(this.THEME_STORAGE_KEY,this.Theme.DARK),e||localStorage.setItem(this.THEME_STORAGE_KEY,this.Theme.LIGHT),this.renderTheme()})),this.themeSwitcherEl=t,this.mobileSwitcherEl=r,this.dataSelected=document.querySelector(".data_selected"),this.currentPage=document.querySelector("body").getAttribute("data-current-page"),this.THEME_STORAGE_KEY="theme",this.Theme={LIGHT:"light",DARK:"dark"}}}(l,d);d.addEventListener("change",h.onThemeToggle),l.addEventListener("change",h.onThemeToggle),h.renderTheme(),s.addEventListener("click",(function(e){if("card__btn"===e.target.className){const t=e.target.closest(".card")?.id||e.target.closest(".card")?.slug_name||e.target.closest(".card")?._id,n=favoritesArrFedor;e.target.textContent.contains="Add to favorites",e.target.textContent="Remove from favorites",setFavoritesInLocalStor({resultsArr:n,clickedArticleId:t,evt:e})}})),function(){console.log("1");const e=localStorage.getItem("favorites");if(e){const n=JSON.parse(e),c=Object.keys(n);for(const e of c){const c=n[`${e}`],{abstract:a,published_date:s,pub_date:i,section:l,section_name:d,title:h,headline:u,media:m,multimedia:_,url:g,web_url:b,id:f,_id:T,slug_name:S}=c,y=f||T||S,p=r(s||i),E=l||d,v=h||u.main,A=a,w=g||b;let H="";try{y===f&&(H=m[0]["media-metadata"][2].url),y===S&&(H=_[2].url),y===T&&(H="https://www.nytimes.com/"+_[0].url)}catch(e){H="https://t4.ftcdn.net/jpg/00/89/55/15/240_F_89551596_LdHAZRwz3i4EM4J0NHNHy2hEUYDfXc0j.jpg"}o+=t({publishedDate:p,sectionName:E,articleTitle:v,shortDescription:A,urlOriginalArticle:w,imgUrl:H,articleId:y})}a.innerHTML=o}else i.style.display="flex"}();
//# sourceMappingURL=favorite.e4abc0bd.js.map
